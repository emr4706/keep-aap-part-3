{"ast":null,"code":"import _toConsumableArray from\"/Users/user/Desktop/keep-aap-part-3/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/user/Desktop/keep-aap-part-3/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{BrowserRouter as Router,Route}from\"react-router-dom\";import axios from\"axios\";import\"./App.css\";import Header from\"./components/Header\";import Footer from\"./components/Footer\";import Posts from\"./components/Posts\";import CreatePost from\"./components/CreatePost\";import CreateUser from\"./components/CreateUser\";import Login from\"./components/Login\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),items=_useState2[0],setItems=_useState2[1];var addItem=function addItem(newItem){setItems(function(prevItem){return[].concat(_toConsumableArray(prevItem),[newItem]);});};//// database de butun posts getirmek icin ///\n////Data Fetching ///\nuseEffect(function(){axios.get(\"http://localhost:5000/posts/\").then(function(res){console.log(res);setItems(res.data);}).catch(function(err){console.log(err);});},[]);var handleDelete=function handleDelete(id){axios.delete(\"http://localhost:5000/posts/\"+id).then(function(response){var tempItems=items.filter(function(item){return item.id!==id;});setItems(tempItems);// setItems(prevItem => {\n//   return prevItem.filter(noteItem => {\n//     return noteItem.id !== id;\n//   });\n// });\nconsole.log(response);}).catch(function(error){console.log(error.response);});// window.location=\"/create\";\n};return React.createElement(Router,null,React.createElement(\"div\",null,React.createElement(Route,{path:\"/\"},React.createElement(Header,null),React.createElement(CreatePost,{onAdd:addItem}),items.map(function(item,index){return React.createElement(Posts,{id:item._id,key:index,title:item.title,content:item.content,onDelete:handleDelete});}),React.createElement(Footer,null)),React.createElement(Route,{path:\"/user\"},React.createElement(CreateUser,null))));}export default App;","map":{"version":3,"sources":["/Users/user/Desktop/keep-aap-part-3/src/App.js"],"names":["React","useState","useEffect","BrowserRouter","Router","Route","axios","Header","Footer","Posts","CreatePost","CreateUser","Login","App","items","setItems","addItem","newItem","prevItem","get","then","res","console","log","data","catch","err","handleDelete","id","delete","response","tempItems","filter","item","error","map","index","_id","title","content"],"mappings":"oPAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,aAAa,GAAIC,CAAAA,MAA1B,CAAkCC,KAAlC,KAA+C,kBAA/C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,WAAP,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,oBAAlB,CACA,MAAOC,CAAAA,UAAP,KAAuB,yBAAvB,CACA,MAAOC,CAAAA,UAAP,KAAuB,yBAAvB,CACA,MAAOC,CAAAA,KAAP,KAAkB,oBAAlB,CAEA,QAASC,CAAAA,GAAT,EAAe,eACaZ,QAAQ,CAAC,EAAD,CADrB,wCACNa,KADM,eACCC,QADD,eAEb,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAAAC,OAAO,CAAI,CACzBF,QAAQ,CAAC,SAAAG,QAAQ,CAAI,CACnB,mCAAWA,QAAX,GAAqBD,OAArB,GACD,CAFO,CAAR,CAGD,CAJD,CAMA;AACA;AACAf,SAAS,CAAC,UAAM,CACdI,KAAK,CACFa,GADH,CACO,8BADP,EAEGC,IAFH,CAEQ,SAAAC,GAAG,CAAI,CACXC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACAN,QAAQ,CAACM,GAAG,CAACG,IAAL,CAAR,CACD,CALH,EAMGC,KANH,CAMS,SAAAC,GAAG,CAAI,CACZJ,OAAO,CAACC,GAAR,CAAYG,GAAZ,EACD,CARH,EASD,CAVQ,CAUN,EAVM,CAAT,CAYA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAC,EAAE,CAAI,CACzBtB,KAAK,CACFuB,MADH,CACU,+BAAiCD,EAD3C,EAEGR,IAFH,CAEQ,SAAAU,QAAQ,CAAI,CAChB,GAAIC,CAAAA,SAAS,CAAGjB,KAAK,CAACkB,MAAN,CAAa,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACL,EAAL,GAAYA,EAAhB,EAAjB,CAAhB,CACAb,QAAQ,CAACgB,SAAD,CAAR,CACA;AACA;AACA;AACA;AACA;AACAT,OAAO,CAACC,GAAR,CAAYO,QAAZ,EACD,CAXH,EAYGL,KAZH,CAYS,SAAAS,KAAK,CAAI,CACdZ,OAAO,CAACC,GAAR,CAAYW,KAAK,CAACJ,QAAlB,EACD,CAdH,EAeA;AACD,CAjBD,CAoBA,MACE,qBAAC,MAAD,MACE,+BAKE,oBAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,EACE,oBAAC,MAAD,MADF,CAEE,oBAAC,UAAD,EAAY,KAAK,CAAEd,OAAnB,EAFF,CAGGF,KAAK,CAACqB,GAAN,CAAU,SAACF,IAAD,CAAOG,KAAP,CAAiB,CAC1B,MACE,qBAAC,KAAD,EACE,EAAE,CAAEH,IAAI,CAACI,GADX,CAEE,GAAG,CAAED,KAFP,CAGE,KAAK,CAAEH,IAAI,CAACK,KAHd,CAIE,OAAO,CAAEL,IAAI,CAACM,OAJhB,CAKE,QAAQ,CAAEZ,YALZ,EADF,CASD,CAVA,CAHH,CAcE,oBAAC,MAAD,MAdF,CALF,CAqBE,oBAAC,KAAD,EAAO,IAAI,CAAC,OAAZ,EACF,oBAAC,UAAD,MADE,CArBF,CADF,CADF,CA6BD,CAED,cAAed,CAAAA,GAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport axios from \"axios\";\nimport \"./App.css\";\nimport Header from \"./components/Header\";\nimport Footer from \"./components/Footer\";\nimport Posts from \"./components/Posts\";\nimport CreatePost from \"./components/CreatePost\";\nimport CreateUser from \"./components/CreateUser\";\nimport Login from \"./components/Login\";\n\nfunction App() {\n  const [items, setItems] = useState([]);\n  const addItem = newItem => {\n    setItems(prevItem => {\n      return [...prevItem, newItem];\n    });\n  };\n\n  //// database de butun posts getirmek icin ///\n  ////Data Fetching ///\n  useEffect(() => {\n    axios\n      .get(\"http://localhost:5000/posts/\")\n      .then(res => {\n        console.log(res);\n        setItems(res.data);\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  }, []);\n\n  const handleDelete = id => {\n    axios\n      .delete(\"http://localhost:5000/posts/\" + id)\n      .then(response => {\n        let tempItems = items.filter(item => item.id !== id);\n        setItems(tempItems);\n        // setItems(prevItem => {\n        //   return prevItem.filter(noteItem => {\n        //     return noteItem.id !== id;\n        //   });\n        // });\n        console.log(response);\n      })\n      .catch(error => {\n        console.log(error.response);\n      });\n    // window.location=\"/create\";\n  };\n \n\n  return (\n    <Router>\n      <div>\n        {/* <Route path=\"/\">\n       <Login />\n      </Route> */}\n        {/* <Route path=\"/edit/:id\" component={EditExercise} /> */}\n        <Route path=\"/\">\n          <Header />\n          <CreatePost onAdd={addItem} />\n          {items.map((item, index) => {\n            return (\n              <Posts\n                id={item._id}\n                key={index}\n                title={item.title}\n                content={item.content}\n                onDelete={handleDelete}\n              />\n            );\n          })}\n          <Footer />\n        </Route>\n        <Route path=\"/user\">\n      <CreateUser />\n      </Route>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}